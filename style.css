:root { --bg:#0f1220; --panel:#151a2a; --border:#2a2f45; --text:#e7eaf3; --muted:#9aa3ba; --accent:#10b981; }
*{ box-sizing:border-box }
body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text); }
.wrap{ max-width:1200px; margin:0 auto; padding:16px; }
.title{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px }
.row{ display:grid; grid-template-columns: 320px 1fr; gap:16px }
@media (max-width:980px){ .row{ grid-template-columns:1fr } }
.card{ background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:14px }
.btn{ background:var(--accent); color:#041015; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600 }
.btn:disabled{ opacity:0.5; cursor:not-allowed }
.btn.ghost{ background:transparent; border:1px solid var(--border); color:#cbd5e1 }
.btn.secondary{ background:#2b3047; color:#cbd5e1 }
input[type="number"], input[type="text"], select { width:100%; padding:8px; border-radius:10px; border:1px solid var(--border); background:#0b1020; color:#e7eaf3 }
.toolbar{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.seg{ display:flex; gap:6px; flex-wrap:wrap }
.seg button{ padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:#0b1020; color:#e7eaf3; cursor:pointer }
.seg button.active{ background:var(--accent); color:#041015; border-color:var(--accent) }
.layers{ max-height:520px; overflow:auto; border:1px solid var(--border); border-radius:10px; }
.layer{ display:grid; grid-template-columns: 24px 24px 1fr 24px 24px; gap:8px; align-items:center; padding:8px 10px; border-bottom:1px solid #1e2336; cursor:default; user-select:none; }
.layer:last-child{ border-bottom:none }
.layer .thumb{ width:28px; height:28px; border-radius:6px; background:#0b1020; border:1px solid var(--border); display:flex; align-items:center; justify-content:center; overflow:hidden }
.layer .thumb img{ max-width:100%; max-height:100% }
.layer .name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; font-size:12px }
.layer .icon{ width:22px; height:22px; display:grid; place-items:center; border:1px solid var(--border); border-radius:6px; background:#0b1020; cursor:pointer }
.layer.selected{ background:#101426; outline:1px solid #27304a }
.layer.locked{ opacity:0.7 }
.drag-handle{ cursor:grab; }
#canvasWrap{ position:relative; width:100%; }
#tile{ background:transparent; border:1px solid var(--border); border-radius:12px; display:block; }
.hint{ color:var(--muted); font-size:12px }
